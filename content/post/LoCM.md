---
title: "Legends of Code & Magic 新手指南"
date: 2021-04-24T11:42:41+08:00

draft: false
toc: true
comment: true

tags:
  - LoCM
  - CodinGame
---

![Legends of Code & Magic](/LoCM/cover.JPG)

## 任務簡介
* 這是一個類似爐石戰記，玩家對玩家的卡牌遊戲
* 必須組出屬於你自己的牌組(deck)，並且與對手組好的牌組進行對戰
* 雙方玩家都有 30 點的血量，誰先把對方的血量降至 0 或更低就獲勝了

## 遊戲規則
* 玩家數 : 2人 (你與電腦)
## 選牌階段 
每位玩家必須組出 30 張牌的牌組，每一回合都會提供你 3 張牌來挑選，你可以選擇其中一張加你的牌組，重複這個動作 30 次，你就成功的組完你的牌組

## 組牌階段
![組牌階段](/LoCM/choice.JPG)

## 戰鬥回合制 - 初始規則
* 遊戲分為先攻方以及後攻方，開始時，先攻方抽 4 張牌，後攻方抽 5 張牌，且在每一個回合，每一個玩家都可以從牌組抽出一張牌，有些牌可能擁有讓你下回合能夠多抽牌的能力
* 先攻方剛開始只會有 1 顆水晶，後攻方有 2 顆水晶。直到後攻方將其水晶一回合性的花光後，後攻方多出來的 1 顆水晶才會消失
* 每一回合每個玩家的水晶最大上限都會成長一顆，且回復至最大上限的水晶，最多成長到 12 顆水晶(如果後攻方一直沒有在某回合花完他全部的水晶，則可以達到 13 顆的上限)
* 玩家可以想辦法將自己的水晶花完來打出各種牌

## 出牌階段
![出牌階段](/LoCM/play.JPG)

## 戰鬥回合制 - 出牌以及生物規則
* 玩家可以從手牌召喚生物(SUMMONING)到場上，並付出同等於該生物的水晶花費，這些生物可以用來攻擊對手的生物或玩家，或者是防禦對手的生物
* 有些生物可能含有特殊能力
* 通常來說，生物剛上場的回合不能攻擊(除非此生物含有C的能力)，且一回合只能攻擊一次
* 當生物互相攻擊時，雙方的攻擊力會從彼此的防禦力互相扣除，若直接攻擊玩家，則該玩家的生命值扣除該生物的攻擊力
![Ex](/LoCM/ex.JPG)

* 當某隻生物的防禦力變成 0 或更低，那隻生物就會被從場上移除

## 生物能力
不同的生物可能會有不同的關鍵字能力，並顯示在卡牌的中央，主要分為六種關鍵字

* B : Breakthrough 穿透

    擁有此能力的生物在攻擊對方生物時，自己的攻擊力比目標生物的防禦力高多少，這個差值就會直接對敵方玩家造成傷害
* C : Charge 衝鋒

    擁有此能力的生物在剛召喚時便可進行攻擊
* D : Drain 竊取生命

    擁有此能力的生物在攻擊對手時，玩家會回復相當於該生物造成之傷害值的生命值
* G : Guard 嘲諷

    若場上有此能力的生物，敵方必須先攻擊這個生物
* L : Lethal 致命

    擁有此能力的生物在對敵方生物造成傷害時，會直接殺掉那個生物
* W : Ward 護盾

    擁有此能力的生物免疫第一次受到的傷害(若受到攻擊力為 0 的生物攻擊，此護盾不會消失)

![Card](/LoCM/card.JPG)

#### W(Ward)與其餘某些關鍵字之間有一些特殊的判定
![W(Ward)與其餘某些關鍵字之間有一些特殊的判定](/LoCM/info.JPG)

* 生物&物品能力總覽 : [Link](https://files.codingame.com/legends-of-code-and-magic/index.html)

## 物品能力
* Green Items:對友方生物有益的物品
* Red Items:對敵方或敵方的生物有害的物品
* Blue Items:不限制只能放在生物身上的物品，可能對自己有益，也可能對敵方有害

![物品能力](/LoCM/item.JPG)

* 生物&物品能力總覽 : [Link](https://files.codingame.com/legends-of-code-and-magic/index.html)

## 輸入資訊
### 動態資訊 (每回合都需讀入 – 用迴圈讀入)
首先讀入兩位玩家各自的狀態 : `playerHealth`，`playerMana`， `playerDeck`， `playerRune`， `playerDraw`

|輸入|意義|
|-|-|
|playerHealth|該玩家剩下的生命值|
|playerMana|該玩家當前最大水晶值|
|playerDeck|該玩家牌堆的卡牌數量|
|playerRune|該玩家所剩下的臨界點指示物|
|playerDraw|該玩家應抽出幾張牌|

* 先讀入自己的資訊，緊接著讀入對手的資訊
* 組牌階段時，playerMana一直都是 0

再來是`opponentHand`， `opponentActions`，`cardNumberAndActions`

|輸入|意義|
|-|-|
|opponentHand|對手玩家的手牌數量，你不會知道對手的手牌有什麼，除非他們打出在場面上|
|opponentActions|對手玩家回合時做出的行動總數(若對面回合做出五個行動，此變數即是5)|
|cardNumberAndActions|為一個字串，總共會有opponentActions行，代表敵方做出的行動，詳細請見輸出資訊的戰鬥階段|

接著，讀入一個整數`card_count`，接下來的`card_count`行，緊接著讀入每張卡片的資訊`cardNumber`，`instanceId`，`Location`，`cardType`，`cost`，`attack`，`defense`，`abilities`，`myhealthChange`，`opponentHealthChange`，`cardDraw`

|輸入|意義|
|-|-|
|Card_count|自己手上的牌數加上自己場上放置的牌數，在組牌階段時，此變數會被設置為 3|
|Card_Number|該卡片的 Id(詳情請見最後一頁圖鑑)|
|instanceId|該卡片被設置的辨認 Id，以此 Id 來進行戰鬥或召喚的動作|
|Location|在戰鬥階段時： 0 代表在自己手上、1 代表在自己的場上，-1 代表在對面的場上，在組牌階段時，此變數會被設置為 0|
|cardType|卡牌的類型：0 代表生物(Creature)、1 代表綠色物品(Green item)、2 代表紅色物品(Red item)、3 代表藍色物品(Blue item)|
|cost|該卡片的水晶花費|
|attack|生物：該生物的攻擊力、物品：該物品的攻擊改變量|
|denfence|生物：該生物的防禦力、物品：該物品的防禦改變量，若為負值則代表此張物品會造成傷害|
|abilities|為一個 size 為 6 的陣列，分別裝有 B、C、G、D、L、W 等能力(詳細能力請見遊戲規則)|
|myhealthChange|自己生命的改變量|
|opponentHealthChange|對手生命的改變量|
|cardDraw|自己下一回合會額外抽出的卡片數量|

## 輸出資訊
* 每回合均須輸出 (除了第一次的選牌以及戰鬥階段需在 1000 ms 內輸出，其餘每個回合皆需在 100 ms 內輸出，不然會 TLE)

#### 選牌階段
PICK (0、1、2)：選擇從左到右哪一張牌，PICK 0 即為第一張，以此類推
PASS：自動選擇左邊第一張

#### 戰鬥階段
SUMMON id：從你的手牌召喚編號為id的生物到場上
ATTACK id1 id2：使用編號為id1的生物攻擊編號為id2的生物
ATTACK id -1：使用編號為id的生物直接攻擊對手玩家
USE id1 id2：對編號為id2的生物使用編號為id1的物品
USE id -1：使用編號為id的物品
PASS：什麼事也不做

## 緊急抽卡臨界點
* 每個玩家擁有 5 個抽卡的臨界點指示物，分別對應到了玩家 25、20、15、10、5殘餘生命值的時候
* 當玩家的生命值被降到某個特定的值時，該玩家會因此失去該臨界點對應的指示物，並且在下一回合能夠多抽出一張卡，一個臨界點只能被使用一次。(舉例:如果你的生命值從 30 點直接降到 18 點，你會失去 25、20 的對應指示物，在下回合能夠額外抽出 2 張卡，但如果你之後的回合回復生命值至 23 點，又被打掉 5 滴血變成 18 點生命值，你無法再使用 20 的對應指示物使你下回合多抽一張卡。)
* 如果你牌組沒有牌了，但你必須得抽一張牌出來，你會失去血量直到對應到目前擁有的對應指示物之血量，並且失去一個對應指示物。(舉例:如果我有 28 點血量，且還有 3 個指示物，但我的牌組沒牌了，我必須得抽一張牌出來，則我的血量會變到 15滴血，並且扣除一個指示物)
* 如果你沒有指示物了，且你牌組也沒有牌了，你會直接掛掉

## UI
![UI](/LoCM/UI.JPG)

## DEMO
![DEMO](/LoCM/DEMO.gif)